# =============================================================================
# ConfigMap - Application Configuration
# =============================================================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: fiap-tech-challenge-config
  namespace: ftc-app
  labels:
    app.kubernetes.io/name: fiap-tech-challenge-api
    app.kubernetes.io/component: config
data:
  # Application
  NODE_ENV: "production"
  PORT: "3000"

  # API Configuration
  API_PREFIX: "api"
  API_VERSION: "v1"

  # CORS
  CORS_ORIGINS: "*"

  # Logging
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"

  # OpenTelemetry - DISABLED (using CloudWatch instead)
  # For CloudWatch observability:
  # - Logs: Pino JSON logs → CloudWatch Logs (via FluentBit/CloudWatch Agent DaemonSet)
  # - Metrics: Prometheus /metrics endpoint → CloudWatch Container Insights
  # - Traces: Optional AWS X-Ray via ADOT Collector (not configured yet)
  OTEL_SERVICE_NAME: "fiap-tech-challenge-api"
  OTEL_TRACES_ENABLED: "false"
  OTEL_METRICS_ENABLED: "false"
  OTEL_LOGS_ENABLED: "false"

  # Database (non-sensitive)
  DB_POOL_MIN: "2"
  DB_POOL_MAX: "10"

  # Cache (if using Redis)
  CACHE_TTL: "300"
